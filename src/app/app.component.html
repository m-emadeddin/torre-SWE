<!-- Toolbar -->
<div class="toolbar" role="banner">
  <div class="title-container">
    <h1 class="doc-title">Torre - SW Engineering Technical Testing</h1>
    <p class="subtitle">Display User Info</p>
  </div>
</div>

<div class="searchbar">
  <input [(ngModel)]="searchText" type="text" placeholder="Search for a Torre user..." (keydown.enter)="getUserData()">
  <button (click)="getUserData()" class="search-btn"><i class="fa fa-search"></i></button>
  <p *ngIf="error">
    THIS USERNAME DOESN'T EXIST
  </p>
</div>

<div class="content">
  <div class="card" *ngIf="!error && userData">
    <div class="image">
      <img [src]="userData?.person?.pictureThumbnail" alt="" />
    </div>
    <h1>{{ userData?.person.name }}</h1>
    <span class="usertitle"> {{ userData?.person?.professionalHeadline }}</span>

    <h3>Education</h3>
    <div class="properties">
      <p class="edu" *ngFor="let ed of userData?.education">
        {{ ed?.name }}
      </p>
    </div>

    <h3>Experiences</h3>
    <div class="properties">
      <p class="exp" *ngFor="let ex of userData?.experiences">
        {{ ex?.name }}
      </p>
    </div>

    <h3>Awards</h3>
    <div class="properties">
      <p class="award" *ngFor="let ex of userData?.awards">
        {{ ex?.name }}
      </p>
    </div>
    <h3>Languages</h3>
    <div class="properties">
      <p class="langs" *ngFor="let ex of userData?.languages">
        {{ ex?.language }}-{{ex?.fluency}}
      </p>
    </div>
  </div>
  <div class="main">
    <div class="searchbar">
        <input [(ngModel)]="searchText" type="text" placeholder="Search for a Torre user..." (keydown.enter)="getUserData()">
        <button (click)="getUserData()" class="search-btn"><i class="fa fa-search"></i></button>
        <p *ngIf="error">
            THIS USERNAME DOESN'T EXIST
        </p>
    </div>
    <div class="wrapper">
  
        <div class="profile-card demo-profile-card" *ngIf="!error && userData">
            <div class="profile-card__img">
                <img [src]="userData?.person?.pictureThumbnail" alt="" />
            </div>
            <div class="profile-card__cnt demo-profile-cnt">
                <div class="profile-card__name"> {{ userData?.person.name }}</div>
                <div class="profile-card__txt"> {{ userData?.person?.professionalHeadline }}</div>
            </div>
  
            <div class="profile-card-edu " *ngIf="!error && userData">
  
                <span class="profile-card-edu__icon"> <img class= "icon" src="https://img.icons8.com/ios/256/education.png" alt="icon"> </span>
                <span class="profile-card-edu__txt" *ngFor="let ed of userData?.education">
            {{ ed?.name }}
        </span>
            </div>
  
            <div class="profile-card-experience " *ngIf="!error && userData">
  
                <span class="profile-card-experience__head"> Experiences</span>
                <span class="profile-card-experience__txt" *ngFor="let ex of userData?.experiences">
            {{ ex?.name }}
        </span>
  
            </div>
  
            <div class="profile-card-experience " *ngIf="!error && userData">
  
                <span class="profile-card-experience__head"> Awards</span>
                <span class="profile-card-experience__txt" *ngFor="let ex of userData?.awards">
            {{ ex?.name }}
        </span>
  
            </div>
  
            <div class="profile-card-experience " *ngIf="!error && userData">
  
                <span class="profile-card-experience__head"> Languages</span>
                <span class="profile-card-experience__txt" *ngFor="let ex of userData?.languages">
          {{ ex?.language }}-{{ex?.fluency}}
        </span>
  
            </div>
  
            <hr>
  
            <br>
  
  
        </div>
  
  
        <div class="profile-card demo-profile-card" *ngIf="!error && userData">
          <span class="profile-card-experience__head"> Skills</span>
          <app-skills [skills]="userData?.strengths" (onSelect)="onSkillSelected($event)" />
        </div>
        <div class="profile-card demo-profile-card" *ngIf="!error && userData">
          <div class="skill-card" *ngIf="selectedSkill">
              <h3>{{ selectedSkill?.name }}</h3>
              <p class="prof">Proficiency: <span class="profile-card-experience__txt">{{ selectedSkill?.proficiency}}</span></p>
              <p class="recommend"><span class="profile-card-experience__txt">Recommendations: {{ selectedSkill?.recommendations }}</span></p>
              <p class="weight"><span class="profile-card-experience__txt">>Weight: {{ selectedSkill?.weight }}</span></p>
          </div>
        </div>
  
    </div>
  </div>

  <div class="card" *ngIf="!error && userData">
    <h3>Skills</h3>
    <div class="properties">
      <app-skills [skills]="userData?.strengths" (onSelect)="onSkillSelected($event)" />
    </div>

  </div>

  <div class="card" *ngIf="!error && userData">
    <div class="skill-card" *ngIf="selectedSkill">
        <h3>{{ selectedSkill?.name }}</h3>
        <p class="prof">Proficiency: {{ selectedSkill?.proficiency}}</p>
        <p class="recommend">Recommendations: {{ selectedSkill?.recommendations }}</p>
        <p class="weight">Weight: {{ selectedSkill?.weight }}</p>
    </div>
  </div>
  

</div>
<router-outlet></router-outlet>